<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="ok">
			<div>
				<test id="o_id">

				</test>
				<div>
					<test>

					</test>
				</div>
			</div>
		</div>
	</body>
	<script src="../app.js"></script>
	<script>
		let loader = new Loader();
		let app = loader.load(document.getElementById("ok"), [{
			name: "test",
			update(props) {
				let input = document.createElement("input");
				this.static_dom = input;
				props.id ? input.id = props.id : undefined;
				return input;
			},
			style(props) {
				let s_map = this.getStyleMap();
				let background = s_map.getPropertyValue("background-color");
				let ok =s_map.getPropertyValue("--test");
				console.log(background,ok);
			}
		}]);
		setTimeout(() => {
			console.log(app.collect());
		}, 3000);
		setTimeout(() => {
			loader.reload(app, [{
				name: "div",
				props: {
					id: "test"
				}
			}])
		}, 6000);
	</script>
	<style>
		.test {
			background-color: rebeccapurple;
			--test: "ok";
		}
	</style>
</html>